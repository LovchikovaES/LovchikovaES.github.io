<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Grouped Checkbox Price Calculator</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
        }
        .toggle-header {
            cursor: pointer;
            font-weight: bold;
            margin-bottom: 10px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .group-title {
            display: flex;
            align-items: center;
        }
        .group-name {
            margin-right: 5px;
        }
        .group-name.green, .toggle-icon.green {
            color: green;
        }
        .group-summary {
            font-style: italic;
            font-size: 0.9em;
        }
        .toggle-icon {
            margin-right: 10px;
            font-size: 1.2em;
        }
        .group-items {
            display: none;
            list-style-type: none;
            padding-left: 20px;
        }
        .group-items li {
            margin: 10px 0;
            display: flex;
            flex-direction: column;
            align-items: flex-start;
        }
        .item-details {
            margin-bottom: 5px;
        }
        .total {
            font-weight: bold;
            margin-top: 20px;
        }
        .links-section {
            margin-top: 10px;
        }
        .collapsed .group-items {
            display: none;
        }
        .expanded .group-items {
            display: block;
        }
        .collapsed .toggle-icon::after {
            content: '►';
        }
        .expanded .toggle-icon::after {
            content: '▼';
        }
        .item-image {
            width: 200px;
            height: auto;
            margin-left: 25px;
        }
    </style>
</head>
<body>

    <h2>Advent Calendar Item Planner</h2>

    <!-- Group Perfumes -->
    <div class="group">
        <div class="toggle-header">
            <span class="group-title">
                <span class="toggle-icon"></span>
                <span class="group-name">Perfumes</span>
                <span class="group-summary">(Total: €<span class="group-total-price">0.00</span>, Quantity: <span class="group-total-quantity">0</span>)</span>
            </span>
        </div>
        <ul class="group-items">
            <li>
                <div class="item-details">
                    <input type="checkbox" class="item-checkbox" data-price="47.00" data-quantity="6" data-link="https://www.byredo.com/eu_en/perfume/personal-fragrances/discovery-set/">
                    BYREDO Discovery Set - €47.00, Quantity: 6
                </div>
                <a href="https://www.byredo.com/eu_en/perfume/personal-fragrances/discovery-set/" target="_blank">
                  <img src="https://www.byredo.com/media/catalog/product/cache/c5a89872cc52c0f5e6106953800b3b5c/1/5/1500x1680px_florale-vails_2ml_230921.jpg" alt="Item 1 Image" class="item-image">
                </a>
            </li>
            <li>
                <div class="item-details">
                    <input type="checkbox" class="item-checkbox" data-price="40.00" data-quantity="8" data-link="https://matiere-premiere.com/en/produit/individual-samples/">
                    MATIERE PREMIERE Eau de Parfum Samples - €40.00, Quantity: 8
                </div>
                <a href="https://matiere-premiere.com/en/produit/individual-samples/" target="_blank">
                <img src="https://matiere-premiere.com/wp-content/uploads/2023/09/MATIERE-PREMIERE_NEROLI-ORANGER_VANILLA-POWDER_FALCON-LEATHER_CRYSTAL-SAFFRON_FRENCH-FLOWER_PARISIAN-MUSC_SANTAL-AUSTRAL_RADICAL-ROSE_15ml_EDP-1024x1024.jpg" alt="Item 2 Image" class="item-image"></a>
            </li>
            <li>
                <div class="item-details">
                    <input type="checkbox" class="item-checkbox" data-price="40.00" data-quantity="8" data-link="https://maisoncrivelli.com/en/parfums/coffret-extraits-de-parfum-en/">
                    MAISON CRIVELLI Discovery set extraits de parfum - €40.00, Quantity: 8
                </div>
                <a href="https://maisoncrivelli.com/en/parfums/coffret-extraits-de-parfum-en/" target="_blank">
                <img src="https://maisoncrivelli.com/wp-content/uploads/2024/01/Coffret-decouverte-extraits-de-parfum-2048x2048-1-1536x1536.png" alt="Item 2 Image" class="item-image"></a>
            </li>
            <li>
                <div class="item-details">
                    <input type="checkbox" class="item-checkbox" data-price="65.00" data-quantity="10" data-link="https://ormaieparis.myshopify.com/collections/les-echantillons/products/les-echantillons?fbclid=PAZXh0bgNhZW0BMAABpiJxGC0LHXMZANoCjLq2s2FE6d9dMXq-hDlmC2h5yuroAYoXcraQXt_5bg_aem_2kLY-xwScwq9y6O7YoyVwA&utm_source=facebook&utm_medium=paid&campaign_id=120205992488210298&ad_id=120206234973960298&shpxid=0df5f334-edbf-4844-a8f6-3e97f09bd555">
                    ORMAIE Collection set - €65.00, Quantity: 10
                </div>
                <a href="https://ormaieparis.myshopify.com/collections/les-echantillons/products/les-echantillons?fbclid=PAZXh0bgNhZW0BMAABpiJxGC0LHXMZANoCjLq2s2FE6d9dMXq-hDlmC2h5yuroAYoXcraQXt_5bg_aem_2kLY-xwScwq9y6O7YoyVwA&utm_source=facebook&utm_medium=paid&campaign_id=120205992488210298&ad_id=120206234973960298&shpxid=0df5f334-edbf-4844-a8f6-3e97f09bd555" target="_blank">
                <img src="https://ormaieparis.myshopify.com/cdn/shop/products/Boites_Les9Echantillons_Contours_Web_2048x2048.webp?v=1671441391" alt="Item 2 Image" class="item-image"></a>
            </li>
    </div>

    <!-- Group Notino -->
    <div class="group">
        <div class="toggle-header">
            <span class="group-title">
                <span class="toggle-icon"></span>
                <span class="group-name">Notino</span>
                <span class="group-summary">(Total: €<span class="group-total-price">0.00</span>, Quantity: <span class="group-total-quantity">0</span>)</span>
            </span>
        </div>
        <ul class="group-items">
            <li>
                <div class="item-details">
                    <input type="checkbox" class="item-checkbox" data-price="22.08" data-quantity="4" data-link="https://www.notino.pt/beauty-of-joseon/hanbang-coffretpara-pele-perfeita/">
                    Beauty Of Joseon, Hanbang Serum Discovery Kit - €22.08, Quantity: 4
                </div>
                <a href="https://www.notino.pt/beauty-of-joseon/hanbang-coffretpara-pele-perfeita/" target="_blank">
                  <img src="https://cdn.notinoimg.com/detail_main_mq/beauty_of_joseon/8809738315897_01-o/beauty-of-joseon-hanbang-serum-discovery-kit-coffret-para-pele-perfeita___221104.jpg" alt="Item 1 Image" class="item-image">
                </a>
            </li>
            <li>
                <div class="item-details">
                    <input type="checkbox" class="item-checkbox" data-price="12.20" data-quantity="3" data-link="https://www.notino.pt/origins/hello-me-time-multi-masking-trio-coffret-para-rosto/">
                    Origins, 3 masks - €12.20, Quantity: 3
                </div>
                <a href="https://www.notino.pt/origins/hello-me-time-multi-masking-trio-coffret-para-rosto/" target="_blank">
                  <img src="https://cdn.notinoimg.com/detail_main_mq/origins/717334272453_01-o/origins-hello-me-time-multi-masking-trio-coffret-para-rosto___240308.jpg" alt="Item 1 Image" class="item-image">
                </a>
            </li>
            <li>
                <div class="item-details">
                    <input type="checkbox" class="item-checkbox" data-price="22.80" data-quantity="5" data-link="https://www.notino.pt/origins/plenty-of-tlc-our-masking-essentials-coffret-para-rosto/">
                    Origins, 5 masks - €22.80, Quantity: 5
                </div>
                <a href="https://www.notino.pt/origins/plenty-of-tlc-our-masking-essentials-coffret-para-rosto/" target="_blank">
                  <img src="https://cdn.notinoimg.com/detail_main_mq/origins/717334272408_01/origins-plenty-of-tlc-our-masking-essentials-coffret-para-rosto___240404.jpg" alt="Item 1 Image" class="item-image">
                </a>
            </li>
            <li>
                <div class="item-details">
                    <input type="checkbox" class="item-checkbox" data-price="17.51" data-quantity="3" data-link="https://www.notino.pt/dr-jart/pore-remedy-pha-exfoliating-serum-coffretpara-rosto/">
                    Dr. Jart+, Ceramidin™ Moisture Set - €17.51, Quantity: 3
                </div>
                <a href="https://www.notino.pt/dr-jart/pore-remedy-pha-exfoliating-serum-coffretpara-rosto/" target="_blank">
                  <img src="https://cdn.notinoimg.com/detail_main_mq/dr_jart/8809844997130_01-o/dr-jart-ceramidin-hello-moisture-set-coffret-para-rosto___231109.jpg" alt="Item 1 Image" class="item-image">
                </a>
            </li>
            <li>
                <div class="item-details">
                    <input type="checkbox" class="item-checkbox" data-price="47.94" data-quantity="3" data-link="https://www.notino.pt/filorga/giftset-smoothing-coffretantirrugas/">
                    FILORGA, GIFTSET SMOOTHING - €47.94, Quantity: 3
                </div>
                <a href="https://www.notino.pt/filorga/giftset-smoothing-coffretantirrugas/" target="_blank">
                  <img src="https://cdn.notinoimg.com/detail_main_mq/filorga/3540550015644_01/filorga-giftset-smoothing-coffret-antirrugas___240314.jpg" alt="Item 1 Image" class="item-image">
                </a>
            </li>
        </ul>
    </div>

    <!-- Group CULT Beauty -->
    <div class="group">
        <div class="toggle-header">
            <span class="group-title">
                <span class="toggle-icon"></span>
                <span class="group-name">CULT Beauty</span>
                <span class="group-summary">(Total: €<span class="group-total-price">0.00</span>, Quantity: <span class="group-total-quantity">0</span>)</span>
            </span>
        </div>
        <ul class="group-items">
            <li>
                <div class="item-details">
                    <input type="checkbox" class="item-checkbox" data-price="16.94" data-quantity="3" data-link="https://www.cultbeauty.com/p/byoma-brightening-starter-kit/15281177/">
                    BYOMA Brightening Starter Kit - €16.94, Quantity: 3
                </div>
                <a href="https://www.cultbeauty.com/p/byoma-brightening-starter-kit/15281177/" target="_blank">
                  <img src="https://www.cultbeauty.com/images?url=https://static.thcdn.com/productimg/original/15281177-1425136214250343.jpg&format=webp&auto=avif&width=985&height=985&fit=cover&dpr=2" alt="Item 1 Image" class="item-image">
                </a>
            </li>
            <li>
                <div class="item-details">
                    <input type="checkbox" class="item-checkbox" data-price="36.16" data-quantity="5" data-link="https://www.cultbeauty.com/p/glow-recipe-fruit-babies-routine/15204330/">
                    Glow Recipe, Fruit Babies Routine - €36.16, Quantity: 5
                </div>
                <a href="https://www.cultbeauty.com/p/glow-recipe-fruit-babies-routine/15204330/" target="_blank">
                  <img src="https://www.cultbeauty.com/images?url=https://static.thcdn.com/productimg/original/15204330-2085120147412996.jpg&format=webp&auto=avif&width=985&height=985&fit=cover&dpr=2" alt="Item 1 Image" class="item-image">
                </a>
            </li>
            <li>
                <div class="item-details">
                    <input type="checkbox" class="item-checkbox" data-price="18.98" data-quantity="10" data-link="https://www.cultbeauty.com/p/molton-brown-discovery-body-care-set/14574057/">
                    Molton Brown, Discovery Body Care Set - €18.98, Quantity: 10
                </div>
                <a href="https://www.cultbeauty.com/p/molton-brown-discovery-body-care-set/14574057/" target="_blank">
                  <img src="https://www.cultbeauty.com/images?url=https://static.thcdn.com/productimg/original/14574057-1955063550469128.jpg&format=webp&auto=avif&width=985&height=985&fit=cover&dpr=2" alt="Item 1 Image" class="item-image">
                </a>
            </li>
        </ul>
    </div>

    <!-- Group 4 -->
    <div class="group">
        <div class="toggle-header">
            <span class="group-title">
                <span class="toggle-icon"></span>
                <span class="group-name">Medik8</span>
                <span class="group-summary">(Total: €<span class="group-total-price">0.00</span>, Quantity: <span class="group-total-quantity">0</span>)</span>
            </span>
        </div>
        <ul class="group-items">
            <li>
                <div class="item-details">
                    <input type="checkbox" class="item-checkbox" data-price="47.00" data-quantity="6" data-link="https://www.byredo.com/eu_en/perfume/personal-fragrances/discovery-set/">
                    BYREDO Discovery Set - €47.00, Quantity: 6
                </div>
                <a href="https://www.byredo.com/eu_en/perfume/personal-fragrances/discovery-set/" target="_blank">
                  <img src="https://www.byredo.com/media/catalog/product/cache/c5a89872cc52c0f5e6106953800b3b5c/1/5/1500x1680px_florale-vails_2ml_230921.jpg" alt="Item 1 Image" class="item-image">
                </a>
            </li>
        </ul>
    </div>

    <!-- Group Other -->
    <div class="group">
        <div class="toggle-header">
            <span class="group-title">
                <span class="toggle-icon"></span>
                <span class="group-name">Other</span>
                <span class="group-summary">(Total: €<span class="group-total-price">0.00</span>, Quantity: <span class="group-total-quantity">0</span>)</span>
            </span>
        </div>
        <ul class="group-items">
            <li>
                <div class="item-details">
                    <input type="checkbox" class="item-checkbox" data-price="50.00" data-quantity="5" data-link="https://eu.drsturm.com/sturmglow-starter-set/?setCurrencyId=1&sku=SET-51-13-V&redirect=disabled&gad_source=1&gclid=Cj0KCQjwo8S3BhDeARIsAFRmkOPBbr1ORJKFK3iXzLFktjfxOXtA9OrZ93N_IUKwQ8c67-f32TNHGFkaAiswEALw_wcB&gclsrc=aw.ds">
                    Dr. Barbara Sturm, STURMGLOW™️ Starter set - €50.00, Quantity: 5
                </div>
                <a href="https://eu.drsturm.com/sturmglow-starter-set/?setCurrencyId=1&sku=SET-51-13-V&redirect=disabled&gad_source=1&gclid=Cj0KCQjwo8S3BhDeARIsAFRmkOPBbr1ORJKFK3iXzLFktjfxOXtA9OrZ93N_IUKwQ8c67-f32TNHGFkaAiswEALw_wcB&gclsrc=aw.ds" target="_blank">
                  <img src="https://cdn11.bigcommerce.com/s-dwdwr5marw/images/stencil/1280x1280/products/7123/10789/GLOW_DISCOVERY_TRY_OUT__27532.1704908404.jpg?c=1" alt="Item 1 Image" class="item-image">
                </a>
            </li>
        </ul>
    </div>

    <div class="total">Total: €<span id="total-price">0.00</span>, Quantity: <span id="total-quantity">0</span></div>

    <div class="links-section">
        <h3>Selected Items Links:</h3>
        <ul id="selected-links"></ul>
    </div>

    <script>
        // Function to update total price and quantity for a specific group
        function updateGroupSummary(group) {
            let groupTotalPrice = 0;
            let groupTotalQuantity = 0;
            let hasSelectedItems = false;

            const checkboxes = group.querySelectorAll('.item-checkbox');
            checkboxes.forEach(checkbox => {
                if (checkbox.checked) {
                    const price = parseFloat(checkbox.dataset.price);
                    const quantity = parseInt(checkbox.dataset.quantity);

                    groupTotalPrice += price; // Only adding the price of selected items
                    groupTotalQuantity += quantity; // Count total quantity of selected items
                    hasSelectedItems = true; // Mark that there is at least one selected item
                }
            });

            group.querySelector('.group-total-price').innerText = groupTotalPrice.toFixed(2);
            group.querySelector('.group-total-quantity').innerText = groupTotalQuantity;

            // Change the group name and toggle icon to green if any item is selected
            const groupName = group.querySelector('.group-name');
            const toggleIcon = group.querySelector('.toggle-icon');
            if (hasSelectedItems) {
                groupName.classList.add('green');
                toggleIcon.classList.add('green');
            } else {
                groupName.classList.remove('green');
                toggleIcon.classList.remove('green');
            }
        }

        // Function to update overall total price and quantity
        function updateTotal() {
            let totalPrice = 0;
            let totalQuantity = 0;
            let selectedLinks = [];

            const groups = document.querySelectorAll('.group');
            groups.forEach(group => {
                const groupPrice = parseFloat(group.querySelector('.group-total-price').innerText);
                const groupQuantity = parseInt(group.querySelector('.group-total-quantity').innerText);

                totalPrice += groupPrice;
                totalQuantity += groupQuantity;

                // Collect selected item links
                const checkboxes = group.querySelectorAll('.item-checkbox');
                checkboxes.forEach(checkbox => {
                    if (checkbox.checked) {
                        selectedLinks.push(checkbox.dataset.link);
                    }
                });
            });

            document.getElementById('total-price').innerText = totalPrice.toFixed(2);
            document.getElementById('total-quantity').innerText = totalQuantity;

            // Update the selected links display
            const selectedLinksList = document.getElementById('selected-links');
            selectedLinksList.innerHTML = ''; // Clear existing links
            selectedLinks.forEach(link => {
                const li = document.createElement('li');
                const a = document.createElement('a');
                a.href = link;
                a.innerText = link;
                a.target = "_blank"; // Open link in new tab
                li.appendChild(a);
                selectedLinksList.appendChild(li);
            });
        }

        // Add event listeners to checkboxes to trigger group updates
        document.querySelectorAll('.item-checkbox').forEach(checkbox => {
            checkbox.addEventListener('change', function() {
                const group = checkbox.closest('.group');
                updateGroupSummary(group);
                updateTotal();
            });
        });

        // Function to toggle group visibility
        function toggleGroup(event) {
            const group = event.currentTarget.closest('.group');
            group.classList.toggle('expanded');
            group.classList.toggle('collapsed');
        }

        // Add event listeners to toggle headers for expanding/collapsing groups
        document.querySelectorAll('.toggle-header').forEach(header => {
            header.addEventListener('click', toggleGroup);
        });

        // Initialize all groups as collapsed
        document.querySelectorAll('.group').forEach(group => {
            group.classList.add('collapsed');
        });
    </script>

</body>
